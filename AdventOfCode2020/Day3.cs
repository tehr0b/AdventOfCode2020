using System;

namespace AdventOfCode2020 {
    public class Day3 : Day {
        
        private readonly (int right, int down)[] slopes = {
            (1, 1),
            (3, 1),
            (5, 1),
            (7, 1),
            (1, 2)
        };

        public void Run() {
            var width = data[0].Length;

            var treeCount = 1L;
            foreach (var slope in slopes) {
                treeCount *= TreeCount(slope.right, slope.down);
            }

            Console.WriteLine($"You hit {treeCount} trees");
        }

        private int TreeCount(int right, int down) {
            var width = data[0].Length;
            var treeCount = 0;
            var x = 0;
            for (int i = 0; i < data.Length; i += down, x += right) {
                if (data[i][x % width] == '#') {
                    treeCount++;
                }
            }

            return treeCount;
        }

        private readonly string[] data = {
            ".......#................#......",
            "...#.#.....#.##.....#..#.......",
            "..#..#.#......#.#.#............",
            "....#...#...##.....#..#.....#..",
            "....#.......#.##......#...#..#.",
            "...............#.#.#.....#..#..",
            "...##...#...#..##.###...##.....",
            "##..#.#...##.....#.#..........#",
            ".#....#..#..#......#....#....#.",
            "...........................#...",
            "..........#.......#..#.....#.#.",
            "..#.......###..#.#.......#.#...",
            "....#..#....#....#..........#..",
            "..##..#.......#.#...#..........",
            ".....#.......#.....#....#......",
            "..........##..#................",
            "....##.#..###...#..##.....#.#..",
            "..#..#.#.#...#......#...#.....#",
            "....#.#....#...####.##.........",
            "..#.........##...##.#..#..#....",
            ".#......#...#..#..##.#.........",
            ".#....#.......#..##..##..#.#.#.",
            "...........#....#......#.......",
            "..#....#....#...............#..",
            "..#.....#....###.##.....#.#..#.",
            "#..........#.#......#.#....#...",
            "....###...#.#.....#....#.####.#",
            "........#......#...#...#..##..#",
            "...##..............##.#.......#",
            "#..........#...........#.#....#",
            "#...#....#..####..#............",
            "###....#........#..............",
            "...#.##....................#.##",
            "...#..#.....#.....##...#....#..",
            ".......###.#...#.........#.....",
            ".#..#.....#.#..#.....#.........",
            "#................#.............",
            "...#......#.#.....##.#.#....#..",
            "...#..#.#..#.....#...#....#....",
            ".......#......#........#.....#.",
            ".#.##..##.....#.#......#.#.#...",
            "#...............#.....#....#...",
            ".....#...........#..##.........",
            ".....#..#........##..#..#.....#",
            "..###.#.#.......#.#...........#",
            "##....##....#.#....##...#.##.##",
            "..................##.#.#.....#.",
            ".#...........###...#...........",
            ".#.#....#......#....###.#......",
            ".......#.##...#...#..#.#.......",
            "..#.....#.#....#..#............",
            ".....#..#..#....#..#.........#.",
            "..##.#......#.....#...#.#..#.#.",
            ".........#......#....##.......#",
            "#........#..#.#......#...#.#..#",
            "...#....#.#..#....##.......###.",
            "..#...#......#.##..........#...",
            "........#..#..#...#.......#....",
            ".##.#..#...#..#........#.#.####",
            "#..#..#..........#....##...#...",
            "....#...#........##........#...",
            ".#......#.......#..#..#........",
            "#...#.#......#....#............",
            "#........#..##.#...##..........",
            "...#..##.....#......##.#..#.#..",
            ".#.#.....#.....#.####.#..##....",
            "..........###....#.##...#......",
            ".......#.......#..#.#.#.##.#..#",
            "..#.#....#......#.#...#.......#",
            ".#...#....#......#...#.........",
            ".#....#..#....#.##.#....#..##..",
            "...#..#.#..................#...",
            ".##..#.............##.........#",
            "...#.#.#................#.....#",
            "...###..###..................#.",
            "........##.##..#.#...#.....#...",
            ".##...##...#...#....#...#......",
            "#..#....#..#..#.#....#..####...",
            ".#...............##....##.#....",
            "#..#................#...#..#...",
            ".#....#.....#..#.#........#....",
            "...............##.#..##..##....",
            ".#......#........#....#.#...#.#",
            ".#.....#...##.#........#.##.#.#",
            "..###............#..#.#....#...",
            "..#.....#.........#....#..#.#..",
            ".##.....#.#..........#.#....##.",
            "...#...#....#..#......#.#.#..#.",
            "#.....#...#....##...#.......##.",
            ".......#.#.........##..........",
            "............##.#.##...#.......#",
            ".....#........##...#........#..",
            ".#........#.#.#.#....#.........",
            "#....#..#....#.#..#...#.#......",
            "....##...........#...#...##.#.#",
            "......#...##.###.....#.........",
            "............#..##....##......#.",
            "......##....#...#.#....#......#",
            "#..#..#..#.#.#.........#...##.#",
            "...#.........#...#.........##.#",
            "#.#.....#.......#.##..#..#.....",
            "##................#......#....#",
            "....#..#.......#....##.....#...",
            ".....#..#...#...#......#.#....#",
            "..#....#.....#.........#.....#.",
            "..#..#..........#.....#........",
            ".......#..##.#......#.#........",
            ".............##.....#....#.....",
            "...#....#..#.#.#...............",
            "........#....##..#...#........#",
            "..##...............#.....#....#",
            "........##.#.##.#......#..#....",
            "..#.##.......#..........##..#..",
            ".#..............#.#.##.........",
            ".#.......#....#....#.#.#.......",
            ".#.##.......#....#......###.#..",
            ".......#...#............##.....",
            "........#.#..........##..#.....",
            "...###..#......#.....##..#..#..",
            "...........##......#....#......",
            "..............#....#..#..#.#..#",
            "....#...#......#.##...#........",
            ".#.............#..#......###.#.",
            "#...#..#.#..............##..#.#",
            "....................#.........#",
            "..##..#......#.###.....#...#.#.",
            ".#....#.#........#...#........#",
            "..#....#.....#..............#..",
            "##..........#..#..#...#........",
            "...........#..##...#.......#...",
            "........##.............#.......",
            "#....#........#..#.#.###..#....",
            "...........##..........##......",
            "#......#.....##.#.##......##...",
            "..#......#.........#.......#..#",
            "......#.#....##..##.#...#.#...#",
            "......#..................##....",
            "...#....#.#...#.#.......##.....",
            "#.#...##...##........#...##....",
            "..#.......#.#.#...#............",
            ".......#......#..#...#.........",
            "#...#..#...........##..........",
            "......#....#.........#.#....#..",
            "#......#........#...#..##....#.",
            ".....#.......##..#.#......#..#.",
            "...........#......#...#......#.",
            "#.#.##.....#....#.....##......#",
            ".....##..#.#.#.###........#.#..",
            "...#...#.#......#......#.......",
            "......###....#..##...#.#.##....",
            "#.....#.....#..................",
            "...#...#......#...............#",
            "..#............##..#.....#.....",
            ".#....#...#...#...#...#..#.....",
            ".##......#.........#.###.#.....",
            "#.#.##.......##...#........##.#",
            ".##.#.#......#.....#...#.....#.",
            "....####.##.......#..##..##.#..",
            "#.#.......#..##....###..#...#..",
            "..#..#....#...#.#.#.#...#......",
            "##.........#.##................",
            "........#.....................#",
            "..#...........#..#..##.#..#.#..",
            "#...#...................#.###..",
            "##..#............#.........#..#",
            "...............##...#...##....#",
            "#.#.....#..#.......#......#....",
            ".#...#......#............#.....",
            "#.......#...#..#....#.......#..",
            "...#....#.##.#....#....#.#.....",
            "...#..#..............#..#.#..#.",
            ".........#.....#.#...#..#....#.",
            "..#..#..#...##.....##.#.....#..",
            ".#.#..........#........#.......",
            "...............#........#.#.#..",
            ".#......#.....#..............#.",
            "........#.#..............#.#...",
            ".......#.#....#..#.#.#..#.#.##.",
            "...##..#...#.#..#...........#..",
            "#...###.#.....#..#........#....",
            ".#...##...##...##.#.....###....",
            ".........#......#.#..##.#.#....",
            "#....#.#..#...#.#.#....#..#..#.",
            ".#.#...#......###.....#........",
            "#.....#.#.......#..#.#...#.....",
            ".................#.#....#..##..",
            "#...........#....###..#......#.",
            "##.#..#....#.#.#.#.............",
            "#.....#..#...#........#........",
            "..#..#......#..#.##.#..........",
            "...#....#..#..........#.#.##.##",
            "#........#...#.......#..##.#...",
            ".#.#..#....#.#....#......#.....",
            "##.......##.#........#...#..##.",
            "##.##.....#.......#####.#....#.",
            "..#..###.#.#..#....###..#.##..#",
            "#.........#.............#.#...#",
            "..#...##.#..................#..",
            ".....#.#....#.#..#.#........#.#",
            "......#.......#.#..##.#.#..#...",
            "..#......#.#..##......#..#....#",
            "..##..#..#.##.#..#....#...##...",
            "###....#...##....##.........#..",
            "#........##.........#......#..#",
            "...#.........#......#.##.......",
            ".....#.#.#....#......#.........",
            "..#...........#....#......#.#..",
            "##........#...##.....######....",
            "....#..#..##.......#..#..#.....",
            "..#....#..##....#......##....#.",
            "...##....#........##......#....",
            ".#.#...###...#......#..........",
            "#....#..#.##.........#...#.....",
            "......#..#.........#.##.....#..",
            "...#............##....#......#.",
            "...#.....##.....#........#.#..#",
            "......#.#..#......#.....#..##..",
            "#.#.........##..........#......",
            "..###.....#..#....##..........#",
            ".............##..#....#..##....",
            "....#.#....##..#......#...#....",
            "....###.....#..#.......#.......",
            "............#..#...............",
            "......#........#..#......#.....",
            ".#........#.......#.##.......#.",
            "..#.........#..#.#.....##....#.",
            "...#.......#.......#.......##.#",
            "#......##.#.....#......##.#..#.",
            "#..........#.................#.",
            "....#..##...........#.....#.#..",
            "#.###...#............#.#....#.#",
            "....#......#.#..###....##..#...",
            "....#...#..........##..........",
            "..#.#............#...#...###...",
            "......#...#......#..#.#........",
            ".#.......#..#...........##...#.",
            "##...#...##....##.#..#..#.#....",
            ".......#........#............##",
            ".#......#...#.#................",
            "#.#........#.#....#..#.##......",
            ".......#.#...#....##.......##..",
            "........#.#.#.........##..##...",
            "..##...............#.#.###.#...",
            "......#.#....#..#......##.....#",
            "###.........#.....#.#.....##...",
            ".#.#....#.....#.#.##..#.......#",
            "..#..#.#......#...##..##.#..#..",
            "...#........#..#....#..........",
            "#...#.#...#..##....##..........",
            ".........#........#.##....#..#.",
            "..#...#.#.......##..........##.",
            "###...........##.#......#.#..#.",
            "...#....#...#..#..#......#.....",
            ".....##.......###.#....###..##.",
            "...#...#..........#.#......#...",
            "....#.....##...##..#.#........#",
            ".....#...#..#.....##...##....#.",
            "................##.#.##....##.#",
            ".#..#..#....#.....#....#..#...#",
            ".....###.....#.................",
            "#...#..##..#.........#.........",
            ".....#..#................#.....",
            ".#..#...#......#..#............",
            "...#...#.#....#....##...#...##.",
            "..........#....#.#..#.#.....#..",
            "....#...###.##...#..#..#......#",
            "#...#.......#..........#..#....",
            ".#............#..##.......#...#",
            "....#..#...#............#..#.#.",
            ".#....#.......#..#.#......#....",
            "...#...#............#...#.....#",
            "....#.#.#..##.#.....#...#.#....",
            "......#.#.#......#..#...#.....#",
            "......##.....#.............#...",
            "..#...#..#.#....#..............",
            ".#.#..#....#.#..##....###.##...",
            "..#...........#....#.###.#....#",
            ".....#.........#.#.............",
            "...#.#.....#......###......##..",
            "...#...#.....#.................",
            "...#..#...##.....##.........#..",
            "..#...#..#..##..#...#........#.",
            "##..#.#.##.#....#...........#..",
            ".......#....##....#...##..#..#.",
            "#.......##.#...##...##..#.....#",
            "....#.#...............#......#.",
            "....#.#...#.....#....#......#..",
            ".#.........#.#....###........#.",
            ".#.#.....#.....#.#.#....#.#....",
            "............#...........#.#..##",
            "#...#......#..#......#.#.......",
            "...#.#.#.....#..#...#..##......",
            "...#.#..#...#....#.........#.#.",
            "........#..#......##.....#...#.",
            "...#..#..............#..#......",
            ".........#.......#...#......#..",
            ".#......#.....#.....#......#...",
            "......#.......#....#...#.#.....",
            ".#.....#.##..#........#...#....",
            "#.....##..##....#.#.......#..#.",
            ".#..#...#..#.......#...........",
            "..#..#...#.....##....#.....#...",
            "#.#..............#....#..#.....",
            ".........##...#......#.##...##.",
            ".###...#.#...#.....#.........#.",
            ".....#..........##...#..#....##",
            ".#..#......#....##.#...#.......",
            ".............###.#.#..#.#.#...#",
            ".......#...##..#..#.....###....",
            "##.......#...........#....#.#..",
            "##......#...#.#................",
            ".#.####..##.#...............#..",
            "..#...#.#.#..#...#........#...#",
            ".##..##.##.....#.......#..#.#..",
            "...................#......#.#..",
            "#.##..#..........#.............",
            "##..#......#....#.#............",
            ".#........#.....##...#.........",
            ".##....#..#..##..........#...#.",
            "#..........##........#..#..#.#.",
            "####.###.#.....#....#..#.#....#",
            "..#...#...#.#.......#....#...#.",
            "......##.###..##.#.###......#.#",
        };
    }
}